{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />
    <link rel="stylesheet" href="{% static 'accounts/css/main.css' %}" />
    <title>Login & Register</title>
  </head>
  <body>
    <div class="container {% if show_register %}active{% endif %}" id="container">
      <div class="form_container sign_up">
        <form method="post" action="{% url 'accounts:register_login' %}">
          {% csrf_token %}
          <h1>Create Account</h1>
          <div class="social_icons">
            <a href="#" class="icon"><i class="fa-brands fa-google-plus-g"></i></a>
            <a href="#"><i class="fa-brands fa-facebook-f"></i></a>
            <a href="#"><i class="fa-brands fa-github"></i></a>
            <a href="#"><i class="fa-brands fa-linkedin-in"></i></a>
          </div>
          <span>or use your email for registration</span>

          <input type="text" name="username" placeholder="Username" required />
          {% if register_form.username.errors %}
            <div id="signup-error-box" class="error">{{ register_form.username.errors.0 }}</div>
          {% endif %}

          <input type="email" name="email" placeholder="Email" required />
          {% if register_form.email.errors %}
            <div id="signup-error-box" class="error">{{ register_form.email.errors.0 }}</div>
          {% endif %}

          <input type="date" name="birth_date" placeholder="Date" required />
          {% if register_form.birth_date.errors %}
            <div id="signup-error-box" class="error">{{ register_form.birth_date.errors.0 }}</div>
          {% endif %}

          <input type="text" name="phone" placeholder="Phone" required />
          {% if register_form.phone.errors %}
            <div id="signup-error-box" class="error">{{ register_form.phone.errors.0 }}</div>
          {% endif %}

          <input type="password" name="password1" placeholder="Password" required />
          {% if register_form.password1.errors %}
            <div id="signup-error-box" class="error">{{ register_form.password1.errors.0 }}</div>
          {% endif %}

          <input type="password" name="password2" placeholder="Confirm Password" required />
          {% if register_form.password2.errors %}
            <div id="signup-error-box" class="error">{{ register_form.password2.errors.0 }}</div>
          {% endif %}

          <button type="submit" name="register" id="register-btn">Sign Up</button>
        </form>
      </div>

      <div class="form_container sign_in">
        <form method="post" action="{% url 'accounts:register_login' %}">
          {% csrf_token %}
          <h1>Sign In</h1>
          <div class="social_icons">
            <a href="#" class="icon"><i class="fa-brands fa-google-plus-g"></i></a>
            <a href="#"><i class="fa-brands fa-facebook-f"></i></a>
            <a href="#"><i class="fa-brands fa-github"></i></a>
            <a href="#"><i class="fa-brands fa-linkedin-in"></i></a>
          </div>
          <span>or use your email password</span>

          <input type="text" name="username" placeholder="Username" required />
          <input type="password" name="password" placeholder="Password" required />

          {% if messages %}
            <div id="login-error-box">
              {% for message in messages %}
                <div class="alert {{ message.tags }}">
                  {{ message }}
                </div>
              {% endfor %}
            </div>
          {% endif %}

          <a href="#">Forget Your Password?</a>
          <button type="submit" name="login" id="login-btn">Sign In</button>
        </form>
      </div>

      <div class="toggle_container">
        <div class="toggle">
          <div class="toggle_panel toggle_left">
            <h1>Welcome Back!</h1>
            <p>Enter your personal details to use all of site features</p>
            <button id="login">Sign In</button>
          </div>

          <div class="toggle_panel toggle_right">
            <h1>Hello, Friend!</h1>
            <p>Register with your personal details to use all of site features</p>
            <button id="register">Sign Up</button>
          </div>
        </div>
      </div>
    </div>

    <script src="{% static 'accounts/js/main.js' %}"></script>
  </body>
</html>
